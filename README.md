DatabaseSystemImplementation
============================

Implementation of functions for Heap and Sorted files management. Optimal External Merge Sorting function implementation using Block Merging.  Implementation of Database Systems course, Prof. Michael Hatzopoulos.

Γλώσσα υλοποίησης: C 
Περιβάλλον υλοποίησης: Linux (Ubuntu 11.10) (gcc 4.5.2) με τη χρήση VirtualBox (από MAC OSX

Η μεταγλώττιση των προγραμμάτων γίνεται ως εξής:
Για την main1.c: gcc BF.o HP.c Sorted.c main1.c -Wall -o main_1 Για την main2.c: gcc BF.o HP.c Sorted.c main1.c -Wall -o main_2
ενώ η εκτέλεση αντίστοιχα με ./main_1; ./main_2;
Η ειδική πληροφορία που αφορά το αρχείο heap αναθέτεται στο πρώτο block του αρχείου και έχει τιμή 1.
Η ειδική πληροφορία που αφορά το αρχείο sorted αναθέτεται στο πρώτο block του αρχείου και έχει τιμή 2.
Σε κάθε block πρίν τις εγγραφές υπάρχουν δύο ακέραιοι, to No of records, αριθμός σειράς επόμενου block.
HP.c : Υλοποιήθηκαν όλες οι ζητούμενες συναρτήσεις και πληρούν όλες τις απαιτούμενες προδιαγραφές. Επίσης στην insert γίνεται έλεγχος διπλότυπων records.
Γίνεται σειριακός έλεγχος για τις ζητούμενες εγγραφές με τα αντίστοιχα fieldName και value (delete,getallentries). Ειδικότερα, στην delete με τη διαγραφή των αντίστοιχων εγγραφών γίνεται ολοίσθηση όλων των επόμενων προς τα πάνω.
Sorted.c : Υλοποιήθηκαν όλες οι ζητούμενες συναρτήσεις και πληρούν όλες τις απαιτούμενες προδιαγραφές. Το αρχείο είναι ταξινομημένο ως προς το id. Επίσης στην insert γίνεται έλεγχος διπλότυπων records.
Γίνεται δυαδικός έλεγχος για τις ζητούμενες εγγραφές με τα αντίστοιχα id και value (delete,getallentries) και σειριακός για τα υπόλοιπα fieldName.
Στην insert γίνεται δυαδικός έλεγχος για την εύρεση του σωστού block και σειριακός για την εύρεση της θέσης του μέσα σ'αυτό.
Στις delete και getallentries ψάχνουμε δυαδικά για τις αντίστοιχες εγγραφές που θέλουμε να διαγράψουμε ή να βρούμε,εφόσον το fieldname είναι id ,ενώ στις υπόλοιπες περιπτώσεις ψάχνουμε σειριακά.

Η μεταγλώττιση των προγραμμάτων γίνεται ως εξής: 
Για την main1.c: gcc -o main_1 BF.o HP.c Sort.c main1.c  
Για την main2.c: gcc -o main_2 BF.o HP.c Sort.c main2.c 
Για την main2.c: gcc -o main_3 BF.o HP.c JoinMergeSorted.c main3.c 
ενώ η εκτέλεση αντίστοιχα με:
./main_1 
./main_2 
./main_3

Η ειδική πληροφορία που αφορά το αρχείο heap αναθέτεται στο πρώτο block του αρχείου και έχει τιμή 1 κ επίσης αναθέτεται η δομή του record.
Σε κάθε block πρίν τις εγγραφές υπάρχουν δύο ακέραιοι, τo No of records, αριθμός σειράς επόμενου block.

JoinMergeSorted.c: Υλοποιήθηκαν όλά τα ζητούμενα, πληρεί όλες τις απαιτούμενες προδιαγραφές. 
Υλοποιεί τη ρουτίνα merge των δύο αρχείων για μέγεθος μνήμης 3 blocks. 
Διαβάζει σειριακά 1 block από το κάθε αρχείο  εισόδου, βρίσκει την μικρότερη εγγραφή με βαση το id κ την βάζει στο output buffer.
Όταν γεμίζει το output buffer γράφει το block στον δίσκο στο αρχείο εξόδου με όνομα outputName που δίνεται σαν όρισμα. 
Έτσι συνεχίζεται μέχρι να τελειώσουν όλα τα block των δύο αρχείων εισόδου.
Επίσης, γίνεται έλεγχος διπλότυπων records απο τα δύο files, από τα οποία βάζει μόνο το ένα record.  
Το τελικό αρχείο είναι ταξινομημένο ως προς το id. :)




Sort.c: Υλοποιήθηκαν όλά τα ζητούμενα, πληρεί όλες τις απαιτούμενες προδιαγραφές.
Υλοποιεί τον external sorting algorithm ενός αρχείου για μέγεθος μνήμης buffersize blocks. 
Ο αλγόριθμος χωρίζεται σε 2 υπορουτίνες: ταξινόμησης και συγχώνευσης.

Στην αρχή γίνεται ταξινόμηση του κάθε block του δοσμένου αρχείου με χρήση της Quicksort και τοποθέτηση ανα buffersize-1 blocks σε ξεχωριστά κάθε φορά run. 
Ύστερα, φέρνουμε στη μνήμη 1 block απο κάθε run (αρα buffersize-1 input blocks) και βρίσκουμε τη μικρότερη εγγραφή κάθε φορά βάζοντας τη στο output buffer. (block που φέρνουμε στη μνήμη από output file που δημιουργούμε. 




 Επίσης, γίνεται έλεγχος διπλότυπων records. 

Το τελικό αρχείο είναι ταξινομημένο ως προς το id. 
